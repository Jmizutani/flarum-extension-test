{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://user-profile/webpack/bootstrap","webpack://user-profile/webpack/runtime/compat get default export","webpack://user-profile/webpack/runtime/define property getters","webpack://user-profile/webpack/runtime/hasOwnProperty shorthand","webpack://user-profile/external root \"flarum.core.compat['admin/app']\"","webpack://user-profile/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://user-profile/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://user-profile/external root \"flarum.core.compat['common/Model']\"","webpack://user-profile/./js/src/common/models/UserProfile.js","webpack://user-profile/./js/src/common/models/ProfileField.js","webpack://user-profile/./js/src/common/models/SocialLink.js","webpack://user-profile/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://user-profile/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://user-profile/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://user-profile/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://user-profile/external root \"flarum.core.compat['common/Component']\"","webpack://user-profile/external root \"flarum.core.compat['common/components/Button']\"","webpack://user-profile/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://user-profile/external root \"flarum.core.compat['common/components/Modal']\"","webpack://user-profile/external root \"flarum.core.compat['common/components/Switch']\"","webpack://user-profile/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://user-profile/./js/src/admin/components/ProfileFieldModal.js","webpack://user-profile/./js/src/admin/components/SocialLinkModal.js","webpack://user-profile/./js/src/admin/components/SocialLinksSection.js","webpack://user-profile/./js/src/admin/components/ProfileFieldsPage.js","webpack://user-profile/./js/src/admin/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class UserProfile extends Model {\n  userId = Model.attribute('userId');\n  facebookUrl = Model.attribute('facebookUrl');\n  xUrl = Model.attribute('xUrl');\n  instagramUrl = Model.attribute('instagramUrl');\n  isVisible = Model.attribute('isVisible');\n  customFields = Model.attribute('customFields');\n  createdAt = Model.attribute('createdAt', Model.transformDate);\n  updatedAt = Model.attribute('updatedAt', Model.transformDate);\n  \n  user = Model.hasOne('user');\n}","import Model from 'flarum/common/Model';\n\nexport default class ProfileField extends Model {\n  name = Model.attribute('name');\n  label = Model.attribute('label');\n  type = Model.attribute('type');\n  placeholder = Model.attribute('placeholder');\n  required = Model.attribute('required');\n  sortOrder = Model.attribute('sortOrder');\n  isActive = Model.attribute('isActive');\n  createdAt = Model.attribute('createdAt', Model.transformDate);\n  updatedAt = Model.attribute('updatedAt', Model.transformDate);\n}","import Model from 'flarum/common/Model';\n\nexport default class SocialLink extends Model {}\n\nObject.assign(SocialLink.prototype, {\n  name: Model.attribute('name'),\n  label: Model.attribute('label'),\n  iconUrl: Model.attribute('iconUrl'),\n  placeholder: Model.attribute('placeholder'),\n  sortOrder: Model.attribute('sortOrder'),\n  isActive: Model.attribute('isActive'),\n  createdAt: Model.attribute('createdAt'),\n  updatedAt: Model.attribute('updatedAt')\n});","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","import Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Switch from 'flarum/common/components/Switch';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default class ProfileFieldModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n    \n    const field = this.attrs.field;\n    \n    this.name = Stream(field ? field.name() : '');\n    this.label = Stream(field ? field.label() : '');\n    this.type = Stream(field ? field.type() : 'text');\n    this.placeholder = Stream(field ? field.placeholder() : '');\n    this.required = Stream(field ? field.required() : false);\n    this.sortOrder = Stream(field ? field.sortOrder() : 0);\n    this.isActive = Stream(field ? field.isActive() : true);\n    this.loading = false;\n  }\n\n  className() {\n    return 'ProfileFieldModal Modal--medium';\n  }\n\n  title() {\n    return this.attrs.field ? 'フィールドを編集' : '新しいフィールドを追加';\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">\n          <div className=\"Form-group\">\n            <label>フィールド名 (内部名)</label>\n            <input\n              className=\"FormControl\"\n              type=\"text\"\n              value={this.name()}\n              oninput={(e) => this.name(e.target.value)}\n              placeholder=\"例: introduction\"\n              disabled={!!this.attrs.field}\n            />\n            {this.attrs.field && (\n              <p className=\"helpText\">既存フィールドの内部名は変更できません。</p>\n            )}\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>表示ラベル</label>\n            <input\n              className=\"FormControl\"\n              type=\"text\"\n              value={this.label()}\n              oninput={(e) => this.label(e.target.value)}\n              placeholder=\"例: 自己紹介\"\n            />\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>フィールドタイプ</label>\n            <select\n              className=\"FormControl\"\n              value={this.type()}\n              onchange={(e) => this.type(e.target.value)}\n            >\n              <option value=\"text\">テキスト（1行）</option>\n              <option value=\"textarea\">テキストエリア（複数行）</option>\n            </select>\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>プレースホルダー</label>\n            <input\n              className=\"FormControl\"\n              type=\"text\"\n              value={this.placeholder()}\n              oninput={(e) => this.placeholder(e.target.value)}\n              placeholder=\"ユーザーの入力欄に表示される例文\"\n            />\n            <div className=\"helpText\">\n              ユーザーがフィールドを入力する際のヒントとして表示されます。\n            </div>\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>並び順</label>\n            <input\n              className=\"FormControl\"\n              type=\"number\"\n              value={this.sortOrder()}\n              oninput={(e) => this.sortOrder(parseInt(e.target.value) || 0)}\n              min=\"0\"\n            />\n          </div>\n          \n          <div className=\"Form-group\">\n            <Switch\n              state={this.required()}\n              onchange={this.required}\n            >\n              必須フィールド\n            </Switch>\n          </div>\n          \n          <div className=\"Form-group\">\n            <Switch\n              state={this.isActive()}\n              onchange={this.isActive}\n            >\n              有効\n            </Switch>\n          </div>\n          \n          <div className=\"Form-group\">\n            <Button\n              className=\"Button Button--primary\"\n              type=\"submit\"\n              loading={this.loading}\n            >\n              保存\n            </Button>\n            <Button\n              className=\"Button Button--default\"\n              onclick={this.hide.bind(this)}\n            >\n              キャンセル\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n    \n    if (!this.name() || !this.label()) {\n      alert('フィールド名と表示ラベルは必須です。');\n      return;\n    }\n    \n    this.loading = true;\n    m.redraw();\n    \n    const data = {\n      name: this.name(),\n      label: this.label(),\n      type: this.type(),\n      placeholder: this.placeholder(),\n      required: this.required(),\n      sortOrder: this.sortOrder(),\n      isActive: this.isActive()\n    };\n    \n    let request;\n    \n    if (this.attrs.field) {\n      // 既存フィールドの更新 - 直接APIコールを使用\n      const requestConfig = {\n        url: app.forum.attribute('apiUrl') + '/profile-fields/' + this.attrs.field.id(),\n        method: 'PATCH',\n        body: {\n          data: {\n            type: 'profile-fields',\n            id: this.attrs.field.id(),\n            attributes: data\n          }\n        }\n      };\n      \n      console.log('ProfileField update request:', requestConfig);\n      \n      request = app.request(requestConfig).then(response => {\n        console.log('ProfileField update response:', response);\n        app.store.pushPayload(response);\n        return app.store.getById('profile-fields', this.attrs.field.id());\n      }).catch(error => {\n        console.error('ProfileField update error:', error);\n        throw error;\n      });\n    } else {\n      // 新規フィールドの作成\n      request = app.store.createRecord('profile-fields').save(data);\n    }\n    \n    request\n      .then(() => {\n        this.hide();\n        if (this.attrs.onsubmit) {\n          this.attrs.onsubmit();\n        }\n      })\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n}","import Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default class SocialLinkModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.socialLink = this.attrs.socialLink;\n    \n    this.name = Stream(this.socialLink?.name() || '');\n    this.label = Stream(this.socialLink?.label() || '');\n    this.iconUrl = Stream(this.socialLink?.iconUrl() || '');\n    this.placeholder = Stream(this.socialLink?.placeholder() || '');\n    this.sortOrder = Stream(this.socialLink?.sortOrder() || 0);\n    this.isActive = Stream(this.socialLink?.isActive() ?? true);\n    \n    this.errors = {};\n  }\n\n  className() {\n    return 'SocialLinkModal Modal--medium';\n  }\n\n  title() {\n    return this.socialLink ? 'ソーシャルリンクを編集' : '新しいソーシャルリンクを追加';\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">\n          <div className=\"Form-group\">\n            <label>名前 (内部用)</label>\n            <input\n              className=\"FormControl\"\n              type=\"text\"\n              placeholder=\"facebook, x, instagram など\"\n              bidi={this.name}\n            />\n            <div className=\"helpText\">\n              システム内部で使用される識別子です。英数字とアンダースコアのみ使用可能。\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            <label>表示名</label>\n            <input\n              className=\"FormControl\"\n              type=\"text\"\n              placeholder=\"Facebook, X (Twitter), Instagram など\"\n              bidi={this.label}\n            />\n          </div>\n\n          <div className=\"Form-group\">\n            <label>アイコンURL <span className=\"required\">*</span></label>\n            <input\n              className={`FormControl ${this.errors.iconUrl ? 'FormControl--error' : ''}`}\n              type=\"url\"\n              placeholder=\"https://example.com/icon.svg\"\n              bidi={this.iconUrl}\n              required\n            />\n            {this.errors.iconUrl && (\n              <div className=\"Form-error\">\n                {this.errors.iconUrl}\n              </div>\n            )}\n            <div className=\"helpText\">\n              アイコンのURLを入力してください。PNG、SVG、JPGなどの画像形式に対応しています。\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            <label>プレースホルダー</label>\n            <input\n              className=\"FormControl\"\n              type=\"text\"\n              placeholder=\"https://facebook.com/username\"\n              bidi={this.placeholder}\n            />\n            <div className=\"helpText\">\n              ユーザーの入力欄に表示されるプレースホルダー（入力例）を設定します。\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            <label>表示順序</label>\n            <input\n              className=\"FormControl\"\n              type=\"number\"\n              min=\"0\"\n              bidi={this.sortOrder}\n            />\n          </div>\n\n          <div className=\"Form-group\">\n            <label>有効状態</label>\n            <div style=\"display: flex; align-items: center; margin-top: 5px;\">\n              <div \n                className={`switch ${this.isActive() ? 'switch--on' : 'switch--off'}`}\n                onclick={() => this.isActive(!this.isActive())}\n                style={`position: relative; width: 50px; height: 24px; background: ${this.isActive() ? '#4CAF50' : '#ccc'}; border-radius: 12px; cursor: pointer; transition: all 0.2s ease;`}\n              >\n                <div \n                  className=\"switch-thumb\"\n                  style={`position: absolute; top: 2px; left: ${this.isActive() ? '26px' : '2px'}; width: 20px; height: 20px; background: white; border-radius: 50%; transition: all 0.2s ease; box-shadow: 0 1px 3px rgba(0,0,0,0.3);`}\n                ></div>\n              </div>\n              <span style=\"margin-left: 10px; color: #666;\">\n                {this.isActive() ? '有効' : '無効'}\n              </span>\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            {Button.component(\n              {\n                type: 'submit',\n                className: 'Button Button--primary Button--block',\n                loading: this.loading,\n              },\n              this.socialLink ? '更新' : '作成'\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    // バリデーション\n    this.errors = {};\n    \n    if (!this.iconUrl() || this.iconUrl().trim() === '') {\n      this.errors.iconUrl = 'アイコンURLは必須です。';\n    } else {\n      // URL形式のチェック\n      try {\n        new URL(this.iconUrl());\n      } catch {\n        this.errors.iconUrl = '有効なURLを入力してください。';\n      }\n    }\n    \n    // エラーがある場合は送信を停止\n    if (Object.keys(this.errors).length > 0) {\n      m.redraw();\n      return;\n    }\n\n    this.loading = true;\n\n    const data = {\n      name: this.name(),\n      label: this.label(),\n      iconUrl: this.iconUrl(),\n      placeholder: this.placeholder(),\n      sortOrder: parseInt(this.sortOrder()) || 0,\n      isActive: this.isActive()\n    };\n\n    let promise;\n    \n    if (this.socialLink) {\n      // 既存ソーシャルリンクの更新 - 直接APIコールを使用\n      promise = app.request({\n        url: app.forum.attribute('apiUrl') + '/social-links/' + this.socialLink.id(),\n        method: 'PATCH',\n        body: {\n          data: {\n            type: 'social-links',\n            id: this.socialLink.id(),\n            attributes: data\n          }\n        }\n      }).then(response => {\n        app.store.pushPayload(response);\n        return app.store.getById('social-links', this.socialLink.id());\n      });\n    } else {\n      // 新規ソーシャルリンクの作成\n      promise = app.store.createRecord('social-links').save(data);\n    }\n\n    promise\n      .then(() => {\n        this.hide();\n        if (this.attrs.onsubmit) {\n          this.attrs.onsubmit();\n        }\n      })\n      .catch(error => {\n        console.error('Social link save error:', error);\n        \n        // サーバーサイドエラーを表示\n        if (error.response && error.response.errors) {\n          error.response.errors.forEach(err => {\n            if (err.source && err.source.pointer === '/data/attributes/icon_url') {\n              this.errors.iconUrl = err.detail || 'アイコンURLでエラーが発生しました。';\n            }\n          });\n        }\n      })\n      .then(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n}","import Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport SocialLinkModal from './SocialLinkModal';\n\nexport default class SocialLinksSection extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    \n    this.loading = true;\n    this.socialLinks = [];\n    \n    this.loadSocialLinks();\n  }\n\n  loadSocialLinks() {\n    this.loading = true;\n    \n    app.store.find('social-links')\n      .then(socialLinks => {\n        this.socialLinks = socialLinks.sort((a, b) => a.sortOrder() - b.sortOrder());\n        this.loading = false;\n        m.redraw();\n      })\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  view() {\n    if (this.loading) {\n      return (\n        <div className=\"Form-group\">\n          <LoadingIndicator />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"Form-group\">\n        <label>ソーシャルリンク設定</label>\n        <div className=\"helpText\" style=\"margin-bottom: 15px;\">\n          ユーザーが入力可能なソーシャルリンクを管理できます。\n        </div>\n        \n        <div style=\"margin-bottom: 15px;\">\n          <Button\n            className=\"Button Button--primary\"\n            onclick={() => this.showModal()}\n          >\n            新しいソーシャルリンクを追加\n          </Button>\n        </div>\n        \n        {this.socialLinks.length === 0 ? (\n          <div className=\"helpText\">\n            ソーシャルリンクが設定されていません。\n          </div>\n        ) : (\n          <div>\n            {this.socialLinks.map(socialLink => this.socialLinkItem(socialLink))}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  socialLinkItem(socialLink) {\n    return (\n      <div \n        key={socialLink.id()} \n        className=\"ExtensionListItem\"\n        style=\"display: flex; justify-content: space-between; align-items: center; padding: 10px; margin-bottom: 5px; border: 1px solid #ddd; border-radius: 4px;\"\n      >\n        <div style=\"display: flex; align-items: center;\">\n          {socialLink.iconUrl() && (\n            <img \n              src={socialLink.iconUrl()} \n              alt={socialLink.label()} \n              style=\"width: 20px; height: 20px; margin-right: 10px;\"\n            />\n          )}\n          <div>\n            <div style=\"font-weight: bold; margin-bottom: 5px;\">\n              {socialLink.label()}\n              {!socialLink.isActive() && <span style=\"color: #888; margin-left: 5px;\">(無効)</span>}\n            </div>\n            <div style=\"font-size: 12px; color: #666;\">\n              <span>名前: {socialLink.name()}</span>\n              {socialLink.placeholder() && (\n                <span style=\"margin-left: 15px;\">プレースホルダー: {socialLink.placeholder()}</span>\n              )}\n            </div>\n          </div>\n        </div>\n        \n        <div>\n          <Button\n            className=\"Button Button--link\"\n            onclick={() => this.showModal(socialLink)}\n            style=\"margin-right: 10px;\"\n          >\n            編集\n          </Button>\n          <Button\n            className=\"Button Button--link\"\n            onclick={() => this.deleteSocialLink(socialLink)}\n          >\n            削除\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  showModal(socialLink = null) {\n    app.modal.show(SocialLinkModal, {\n      socialLink: socialLink,\n      onsubmit: () => this.loadSocialLinks()\n    });\n  }\n\n  deleteSocialLink(socialLink) {\n    if (confirm(`ソーシャルリンク「${socialLink.label()}」を削除してもよろしいですか？`)) {\n      app.request({\n        url: app.forum.attribute('apiUrl') + '/social-links/' + socialLink.id() + '/delete',\n        method: 'POST'\n      })\n        .then(() => this.loadSocialLinks())\n        .catch(error => {\n          console.error('Delete error:', error);\n        });\n    }\n  }\n}","import Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport ProfileFieldModal from './ProfileFieldModal';\nimport SocialLinksSection from './SocialLinksSection';\n\nexport default class ProfileFieldsPage extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    \n    this.loading = true;\n    this.fields = [];\n    \n    this.loadFields();\n  }\n  \n  static get route() {\n    return 'profile-fields';\n  }\n\n  loadFields() {\n    this.loading = true;\n    \n    app.store.find('profile-fields')\n      .then(fields => {\n        this.fields = fields.sort((a, b) => a.sortOrder() - b.sortOrder());\n        this.loading = false;\n        m.redraw();\n      })\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  view() {\n    if (this.loading) {\n      return (\n        <div className=\"Form-group\">\n          <LoadingIndicator />\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <div className=\"Form-group\">\n          <label>プロフィールフィールド管理</label>\n          <div className=\"helpText\" style=\"margin-bottom: 15px;\">\n            カスタムプロフィールフィールドを作成・管理できます。\n          </div>\n          \n          <div style=\"margin-bottom: 15px;\">\n            <Button\n              className=\"Button Button--primary\"\n              onclick={() => this.showModal()}\n            >\n              新しいフィールドを追加\n            </Button>\n          </div>\n          \n          {this.fields.length === 0 ? (\n            <div className=\"helpText\">\n              プロフィールフィールドが設定されていません。\n            </div>\n          ) : (\n            <div>\n              {this.fields.map(field => this.fieldItem(field))}\n            </div>\n          )}\n        </div>\n        \n        <SocialLinksSection />\n      </div>\n    );\n  }\n\n  fieldItem(field) {\n    return (\n      <div \n        key={field.id()} \n        className=\"ExtensionListItem\"\n        style=\"display: flex; justify-content: space-between; align-items: center; padding: 10px; margin-bottom: 5px; border: 1px solid #ddd; border-radius: 4px;\"\n      >\n        <div>\n          <div style=\"font-weight: bold; margin-bottom: 5px;\">\n            {field.label()}\n            {field.required() && <span style=\"color: red; margin-left: 5px;\">*</span>}\n            {!field.isActive() && <span style=\"color: #888; margin-left: 5px;\">（無効）</span>}\n          </div>\n          <div style=\"font-size: 12px; color: #666;\">\n            <span>名前: {field.name()}</span>\n            <span style=\"margin-left: 15px;\">タイプ: {field.type()}</span>\n          </div>\n        </div>\n        \n        <div>\n          <Button\n            className=\"Button Button--link\"\n            onclick={() => this.showModal(field)}\n            style=\"margin-right: 10px;\"\n          >\n            編集\n          </Button>\n          <Button\n            className=\"Button Button--link\"\n            onclick={() => this.deleteField(field)}\n          >\n            削除\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  showModal(field = null) {\n    app.modal.show(ProfileFieldModal, {\n      field: field,\n      onsubmit: () => this.loadFields()\n    });\n  }\n\n  deleteField(field) {\n    if (confirm(`フィールド「${field.label()}」を削除してもよろしいですか？`)) {\n      app.request({\n        url: app.forum.attribute('apiUrl') + '/profile-fields/' + field.id() + '/delete',\n        method: 'POST'\n      })\n        .then(() => this.loadFields())\n        .catch(error => {\n          console.error('Delete error:', error);\n        });\n    }\n  }\n}","import app from 'flarum/admin/app';\nimport UserProfile from '../common/models/UserProfile';\nimport ProfileField from '../common/models/ProfileField';\nimport SocialLink from '../common/models/SocialLink';\nimport ProfileFieldsPage from './components/ProfileFieldsPage';\n\napp.initializers.add('junya-user-profile', () => {\n  app.store.models['user-profiles'] = UserProfile;\n  app.store.models['profile-fields'] = ProfileField;\n  app.store.models['social-links'] = SocialLink;\n  \n  app.extensionData\n    .for('junya-user-profile')\n    .registerSetting(function () {\n      return <ProfileFieldsPage />;\n    });\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","UserProfile","_Model","_this","_len","arguments","length","args","Array","_key","apply","concat","userId","Model","facebookUrl","xUrl","instagramUrl","isVisible","customFields","createdAt","updatedAt","user","ProfileField","name","label","type","placeholder","required","sortOrder","isActive","SocialLink","_typeof","Symbol","iterator","toPropertyKey","i","toPrimitive","r","TypeError","String","_defineProperties","configurable","writable","assign","iconUrl","ProfileFieldModal","_Modal","_proto","oninit","vnode","field","this","attrs","Stream","loading","className","title","content","m","value","oninput","target","disabled","onchange","parseInt","min","Switch","state","Button","onclick","hide","onsubmit","_this2","preventDefault","redraw","request","data","requestConfig","url","app","forum","attribute","id","method","body","attributes","console","log","then","response","store","pushPayload","getById","error","createRecord","save","alert","Modal","SocialLinkModal","_this$socialLink","_this$socialLink2","_this$socialLink3","_this$socialLink4","_this$socialLink5","_this$socialLink$isAc","_this$socialLink6","socialLink","errors","bidi","style","trim","URL","_unused","keys","forEach","err","source","pointer","detail","SocialLinksSection","_Component","socialLinks","loadSocialLinks","find","sort","b","view","LoadingIndicator","showModal","map","socialLinkItem","_this3","src","alt","deleteSocialLink","_this4","modal","show","_this5","confirm","Component","ProfileFieldsPage","fields","loadFields","fieldItem","deleteField","add","models","registerSetting"],"sourceRoot":""}