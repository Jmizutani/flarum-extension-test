{"version":3,"file":"admin.js","mappings":"MACA,IAAIA,EAAsB,CCA1BA,EAAyBC,IACxB,IAAIC,EAASD,GAAUA,EAAOE,WAC7B,IAAOF,EAAiB,QACxB,IAAM,EAEP,OADAD,EAAoBI,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,GCLRF,EAAwB,CAACM,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXP,EAAoBS,EAAEF,EAAYC,KAASR,EAAoBS,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3ER,EAAwB,CAACc,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,I,mBCAlF,MAAM,EAA+BI,OAAOC,KAAKC,OAAO,a,aCAxD,SAASC,EAAgBC,EAAGC,GAC1B,OAAOF,EAAkBZ,OAAOe,eAAiBf,OAAOe,eAAeC,OAAS,SAAUH,EAAGC,GAC3F,OAAOD,EAAEI,UAAYH,EAAGD,CAC1B,EAAGD,EAAgBC,EAAGC,EACxB,CCHA,SAASI,EAAeL,EAAGd,GACzBc,EAAEP,UAAYN,OAAOmB,OAAOpB,EAAEO,WAAYO,EAAEP,UAAUc,YAAcP,EAAGE,EAAeF,EAAGd,EAC3F,CCHA,MAAM,EAA+BU,OAAOC,KAAKC,OAAO,gB,aCEnCU,EAAW,SAAAC,GAAA,SAAAD,IAAA,QAAAE,EAAAC,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAYH,OAZGN,EAAAD,EAAAd,KAAAsB,MAAAR,EAAA,OAAAS,OAAAJ,KAAA,MAC9BK,OAASC,IAAAA,UAAgB,UAASV,EAClCW,aAAeD,IAAAA,UAAgB,gBAAeV,EAC9CY,mBAAqBF,IAAAA,UAAgB,sBAAqBV,EAC1Da,cAAgBH,IAAAA,UAAgB,iBAAgBV,EAChDc,YAAcJ,IAAAA,UAAgB,eAAcV,EAC5Ce,KAAOL,IAAAA,UAAgB,QAAOV,EAC9BgB,aAAeN,IAAAA,UAAgB,gBAAeV,EAC9CiB,UAAYP,IAAAA,UAAgB,aAAYV,EACxCkB,UAAYR,IAAAA,UAAgB,YAAaA,IAAAA,eAAoBV,EAC7DmB,UAAYT,IAAAA,UAAgB,YAAaA,IAAAA,eAAoBV,EAE7DoB,KAAOV,IAAAA,OAAa,QAAOV,CAAA,QAAAL,EAAAG,EAAAC,GAAAD,CAAA,CAZG,CAASY,KCApBW,EAAY,SAAAtB,GAAA,SAAAsB,IAAA,QAAArB,EAAAC,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAQ8B,OAR9BN,EAAAD,EAAAd,KAAAsB,MAAAR,EAAA,OAAAS,OAAAJ,KAAA,MAC/BkB,KAAOZ,IAAAA,UAAgB,QAAOV,EAC9BuB,MAAQb,IAAAA,UAAgB,SAAQV,EAChCwB,KAAOd,IAAAA,UAAgB,QAAOV,EAC9ByB,SAAWf,IAAAA,UAAgB,YAAWV,EACtC0B,UAAYhB,IAAAA,UAAgB,aAAYV,EACxC2B,SAAWjB,IAAAA,UAAgB,YAAWV,EACtCkB,UAAYR,IAAAA,UAAgB,YAAaA,IAAAA,eAAoBV,EAC7DmB,UAAYT,IAAAA,UAAgB,YAAaA,IAAAA,eAAoBV,CAAA,QAAAL,EAAA0B,EAAAtB,GAAAsB,CAAA,CAR9B,CAASX,KCF1C,MAAM,EAA+BxB,OAAOC,KAAKC,OAAO,0B,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,4B,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,sC,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,2B,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,4B,aCAxD,MAAM,EAA+BF,OAAOC,KAAKC,OAAO,uB,aCKnCwC,EAAiB,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAAtB,MAAA,KAAAL,YAAA,KAAAP,EAAAiC,EAAAC,GAAA,IAAAC,EAAAF,EAAA7C,UAqJnC,OArJmC+C,EACpCC,OAAA,SAAOC,GACLH,EAAA9C,UAAMgD,OAAM9C,KAAC,KAAA+C,GAEb,IAAMC,EAAQC,KAAKC,MAAMF,MAEzBC,KAAKZ,KAAOc,IAAOH,EAAQA,EAAMX,OAAS,IAC1CY,KAAKX,MAAQa,IAAOH,EAAQA,EAAMV,QAAU,IAC5CW,KAAKV,KAAOY,IAAOH,EAAQA,EAAMT,OAAS,QAC1CU,KAAKT,SAAWW,MAAOH,GAAQA,EAAMR,YACrCS,KAAKR,UAAYU,IAAOH,EAAQA,EAAMP,YAAc,GACpDQ,KAAKP,SAAWS,KAAOH,GAAQA,EAAMN,YACrCO,KAAKG,SAAU,CACjB,EAACP,EAEDQ,UAAA,WACE,MAAO,iCACT,EAACR,EAEDS,MAAA,WACE,OAAOL,KAAKC,MAAMF,MAAQ,WAAa,aACzC,EAACH,EAEDU,QAAA,WAAU,IAAAxC,EAAA,KACR,OACEyC,EAAA,OAAKH,UAAU,cACbG,EAAA,OAAKH,UAAU,QACbG,EAAA,OAAKH,UAAU,cACbG,EAAA,aAAO,gBACPA,EAAA,SACEH,UAAU,cACVd,KAAK,OACLkB,MAAOR,KAAKZ,OACZqB,QAAS,SAACpD,GAAC,OAAKS,EAAKsB,KAAK/B,EAAEqD,OAAOF,MAAM,EACzCG,YAAY,kBACZC,WAAYZ,KAAKC,MAAMF,QAExBC,KAAKC,MAAMF,OACVQ,EAAA,KAAGH,UAAU,YAAW,yBAI5BG,EAAA,OAAKH,UAAU,cACbG,EAAA,aAAO,SACPA,EAAA,SACEH,UAAU,cACVd,KAAK,OACLkB,MAAOR,KAAKX,QACZoB,QAAS,SAACpD,GAAC,OAAKS,EAAKuB,MAAMhC,EAAEqD,OAAOF,MAAM,EAC1CG,YAAY,aAIhBJ,EAAA,OAAKH,UAAU,cACbG,EAAA,aAAO,YACPA,EAAA,UACEH,UAAU,cACVI,MAAOR,KAAKV,OACZuB,SAAU,SAACxD,GAAC,OAAKS,EAAKwB,KAAKjC,EAAEqD,OAAOF,MAAM,GAE1CD,EAAA,UAAQC,MAAM,QAAO,YACrBD,EAAA,UAAQC,MAAM,YAAW,kBAI7BD,EAAA,OAAKH,UAAU,cACbG,EAAA,aAAO,OACPA,EAAA,SACEH,UAAU,cACVd,KAAK,SACLkB,MAAOR,KAAKR,YACZiB,QAAS,SAACpD,GAAC,OAAKS,EAAK0B,UAAUsB,SAASzD,EAAEqD,OAAOF,QAAU,EAAE,EAC7DO,IAAI,OAIRR,EAAA,OAAKH,UAAU,cACbG,EAACS,IAAM,CACLC,MAAOjB,KAAKT,WACZsB,SAAUb,KAAKT,UAChB,YAKHgB,EAAA,OAAKH,UAAU,cACbG,EAACS,IAAM,CACLC,MAAOjB,KAAKP,WACZoB,SAAUb,KAAKP,UAChB,OAKHc,EAAA,OAAKH,UAAU,cACbG,EAACW,IAAM,CACLd,UAAU,yBACVd,KAAK,SACLa,QAASH,KAAKG,SACf,MAGDI,EAACW,IAAM,CACLd,UAAU,yBACVe,QAASnB,KAAKoB,KAAK7D,KAAKyC,OACzB,WAOX,EAACJ,EAEDyB,SAAA,SAAShE,GAAG,IAAAiE,EAAA,KAGV,GAFAjE,EAAEkE,iBAEGvB,KAAKZ,QAAWY,KAAKX,QAA1B,CAKAW,KAAKG,SAAU,EACfI,EAAEiB,SAEF,IAAMC,EAAO,CACXrC,KAAMY,KAAKZ,OACXC,MAAOW,KAAKX,QACZC,KAAMU,KAAKV,OACXC,SAAUS,KAAKT,WACfC,UAAWQ,KAAKR,YAChBC,SAAUO,KAAKP,aAGDO,KAAKC,MAAMF,MACvBC,KAAKC,MAAMF,MAAM2B,KAAKD,GACtBE,IAAIC,MAAMC,aAAa,kBAAkBH,KAAKD,IAG/CK,KAAK,WACJR,EAAKF,OACDE,EAAKrB,MAAMoB,UACbC,EAAKrB,MAAMoB,UAEf,GAAE,MACK,WACLC,EAAKnB,SAAU,EACfI,EAAEiB,QACJ,EA5BF,MAFEO,MAAM,qBA+BV,EAACrC,CAAA,CArJmC,CAASsC,KCA1BC,EAAiB,SAAAC,GAAA,SAAAD,IAAA,OAAAC,EAAA7D,MAAA,KAAAL,YAAA,KAAAP,EAAAwE,EAAAC,GAAA,IAAAtC,EAAAqC,EAAApF,UA8GnC,OA9GmC+C,EACpCC,OAAA,SAAOC,GACLoC,EAAArF,UAAMgD,OAAM9C,KAAC,KAAA+C,GAEbE,KAAKG,SAAU,EACfH,KAAKmC,OAAS,GAEdnC,KAAKoC,YACP,EAACxC,EAEDwC,WAAA,WAAa,IAAAtE,EAAA,KACXkC,KAAKG,SAAU,EAEfwB,IAAIC,MAAMS,KAAK,kBACZP,KAAK,SAAAK,GACJrE,EAAKqE,OAASA,EAAOG,KAAK,SAACpG,EAAGqG,GAAC,OAAKrG,EAAEsD,YAAc+C,EAAE/C,WAAW,GACjE1B,EAAKqC,SAAU,EACfI,EAAEiB,QACJ,GAAE,MACK,WACL1D,EAAKqC,SAAU,EACfI,EAAEiB,QACJ,EACJ,EAAC5B,EAED4C,KAAA,WAAO,IAAAlB,EAAA,KACL,OAAItB,KAAKG,QAELI,EAAA,OAAKH,UAAU,qBACbG,EAACkC,IAAgB,OAMrBlC,EAAA,OAAKH,UAAU,qBACbG,EAAA,OAAKH,UAAU,4BACbG,EAAA,OAAKH,UAAU,aACbG,EAAA,UAAI,iBACJA,EAACW,IAAM,CACLd,UAAU,yBACVe,QAAS,WAAF,OAAQG,EAAKoB,WAAW,GAChC,iBAMLnC,EAAA,OAAKH,UAAU,6BACbG,EAAA,OAAKH,UAAU,aACW,IAAvBJ,KAAKmC,OAAOlE,OACXsC,EAAA,OAAKH,UAAU,2BACbG,EAAA,SAAG,2BAGLA,EAAA,OAAKH,UAAU,qBACZJ,KAAKmC,OAAOQ,IAAI,SAAA5C,GAAK,OAAIuB,EAAKsB,UAAU7C,EAAM,MAO7D,EAACH,EAEDgD,UAAA,SAAU7C,GAAO,IAAA8C,EAAA,KACf,OACEtC,EAAA,OAAKlE,IAAK0D,EAAM+C,KAAM1C,UAAU,oBAC9BG,EAAA,OAAKH,UAAU,yBACbG,EAAA,OAAKH,UAAU,0BAA0BL,EAAMV,SAC/CkB,EAAA,OAAKH,UAAU,4BACbG,EAAA,QAAMH,UAAU,yBAAwB,IAAEL,EAAMX,OAAO,KACvDmB,EAAA,QAAMH,UAAU,yBAAyBL,EAAMT,QAC9CS,EAAMR,YAAcgB,EAAA,QAAMH,UAAU,6BAA4B,QAIrEG,EAAA,OAAKH,UAAU,6BACbG,EAACW,IAAM,CACLd,UAAU,sBACVe,QAAS,WAAF,OAAQ0B,EAAKH,UAAU3C,EAAM,GACrC,MAGDQ,EAACW,IAAM,CACLd,UAAU,sBACVe,QAAS,WAAF,OAAQ0B,EAAKE,YAAYhD,EAAM,GACvC,OAMT,EAACH,EAED8C,UAAA,SAAU3C,GAAc,IAAAiD,EAAA,UAAT,IAALjD,IAAAA,EAAQ,MAChB4B,IAAIsB,MAAMC,KAAKxD,EAAmB,CAChCK,MAAOA,EACPsB,SAAU,WAAF,OAAQ2B,EAAKZ,YAAY,GAErC,EAACxC,EAEDmD,YAAA,SAAYhD,GAAO,IAAAoD,EAAA,KACbC,QAAQ,SAASrD,EAAMV,QAAO,oBAChCU,EAAK,SACF+B,KAAK,kBAAMqB,EAAKf,YAAY,GAAC,MACvB,SAAAiB,GACLC,QAAQD,MAAM,gBAAiBA,EACjC,EAEN,EAACpB,CAAA,CA9GmC,CAASsB,KCA/C5B,IAAAA,aAAiB6B,IAAI,sBAAuB,WAC1C7B,IAAAA,MAAU8B,OAAO,iBAAmB7F,EACpC+D,IAAAA,MAAU8B,OAAO,kBAAoBtE,EAGrCmE,QAAQI,IAAI,uCAGZ/B,IAAAA,cAAiB,IACV,6BACJgC,aAAa1B,GAGhBqB,QAAQI,IAAI,0DACd,E","sources":["webpack://flarum-user-profile/webpack/bootstrap","webpack://flarum-user-profile/webpack/runtime/compat get default export","webpack://flarum-user-profile/webpack/runtime/define property getters","webpack://flarum-user-profile/webpack/runtime/hasOwnProperty shorthand","webpack://flarum-user-profile/external root \"flarum.core.compat['admin/app']\"","webpack://flarum-user-profile/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://flarum-user-profile/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://flarum-user-profile/external root \"flarum.core.compat['common/Model']\"","webpack://flarum-user-profile/./js/src/common/models/UserProfile.js","webpack://flarum-user-profile/./js/src/common/models/ProfileField.js","webpack://flarum-user-profile/external root \"flarum.core.compat['common/components/Page']\"","webpack://flarum-user-profile/external root \"flarum.core.compat['common/components/Button']\"","webpack://flarum-user-profile/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://flarum-user-profile/external root \"flarum.core.compat['common/components/Modal']\"","webpack://flarum-user-profile/external root \"flarum.core.compat['common/components/Switch']\"","webpack://flarum-user-profile/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://flarum-user-profile/./js/src/admin/components/ProfileFieldModal.js","webpack://flarum-user-profile/./js/src/admin/components/ProfileFieldsPage.js","webpack://flarum-user-profile/./js/src/admin/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class UserProfile extends Model {\n  userId = Model.attribute('userId');\n  introduction = Model.attribute('introduction');\n  childcareSituation = Model.attribute('childcareSituation');\n  careSituation = Model.attribute('careSituation');\n  facebookUrl = Model.attribute('facebookUrl');\n  xUrl = Model.attribute('xUrl');\n  instagramUrl = Model.attribute('instagramUrl');\n  isVisible = Model.attribute('isVisible');\n  createdAt = Model.attribute('createdAt', Model.transformDate);\n  updatedAt = Model.attribute('updatedAt', Model.transformDate);\n  \n  user = Model.hasOne('user');\n}","import Model from 'flarum/common/Model';\n\nexport default class ProfileField extends Model {\n  name = Model.attribute('name');\n  label = Model.attribute('label');\n  type = Model.attribute('type');\n  required = Model.attribute('required');\n  sortOrder = Model.attribute('sortOrder');\n  isActive = Model.attribute('isActive');\n  createdAt = Model.attribute('createdAt', Model.transformDate);\n  updatedAt = Model.attribute('updatedAt', Model.transformDate);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","import Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Switch from 'flarum/common/components/Switch';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default class ProfileFieldModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n    \n    const field = this.attrs.field;\n    \n    this.name = Stream(field ? field.name() : '');\n    this.label = Stream(field ? field.label() : '');\n    this.type = Stream(field ? field.type() : 'text');\n    this.required = Stream(field ? field.required() : false);\n    this.sortOrder = Stream(field ? field.sortOrder() : 0);\n    this.isActive = Stream(field ? field.isActive() : true);\n    this.loading = false;\n  }\n\n  className() {\n    return 'ProfileFieldModal Modal--medium';\n  }\n\n  title() {\n    return this.attrs.field ? 'フィールドを編集' : '新しいフィールドを追加';\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">\n          <div className=\"Form-group\">\n            <label>フィールド名 (内部名)</label>\n            <input\n              className=\"FormControl\"\n              type=\"text\"\n              value={this.name()}\n              oninput={(e) => this.name(e.target.value)}\n              placeholder=\"例: introduction\"\n              disabled={!!this.attrs.field}\n            />\n            {this.attrs.field && (\n              <p className=\"helpText\">既存フィールドの内部名は変更できません。</p>\n            )}\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>表示ラベル</label>\n            <input\n              className=\"FormControl\"\n              type=\"text\"\n              value={this.label()}\n              oninput={(e) => this.label(e.target.value)}\n              placeholder=\"例: 自己紹介\"\n            />\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>フィールドタイプ</label>\n            <select\n              className=\"FormControl\"\n              value={this.type()}\n              onchange={(e) => this.type(e.target.value)}\n            >\n              <option value=\"text\">テキスト（1行）</option>\n              <option value=\"textarea\">テキストエリア（複数行）</option>\n            </select>\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>並び順</label>\n            <input\n              className=\"FormControl\"\n              type=\"number\"\n              value={this.sortOrder()}\n              oninput={(e) => this.sortOrder(parseInt(e.target.value) || 0)}\n              min=\"0\"\n            />\n          </div>\n          \n          <div className=\"Form-group\">\n            <Switch\n              state={this.required()}\n              onchange={this.required}\n            >\n              必須フィールド\n            </Switch>\n          </div>\n          \n          <div className=\"Form-group\">\n            <Switch\n              state={this.isActive()}\n              onchange={this.isActive}\n            >\n              有効\n            </Switch>\n          </div>\n          \n          <div className=\"Form-group\">\n            <Button\n              className=\"Button Button--primary\"\n              type=\"submit\"\n              loading={this.loading}\n            >\n              保存\n            </Button>\n            <Button\n              className=\"Button Button--default\"\n              onclick={this.hide.bind(this)}\n            >\n              キャンセル\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n    \n    if (!this.name() || !this.label()) {\n      alert('フィールド名と表示ラベルは必須です。');\n      return;\n    }\n    \n    this.loading = true;\n    m.redraw();\n    \n    const data = {\n      name: this.name(),\n      label: this.label(),\n      type: this.type(),\n      required: this.required(),\n      sortOrder: this.sortOrder(),\n      isActive: this.isActive()\n    };\n    \n    const request = this.attrs.field \n      ? this.attrs.field.save(data)\n      : app.store.createRecord('profile-fields').save(data);\n    \n    request\n      .then(() => {\n        this.hide();\n        if (this.attrs.onsubmit) {\n          this.attrs.onsubmit();\n        }\n      })\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n}","import Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport ProfileFieldModal from './ProfileFieldModal';\n\nexport default class ProfileFieldsPage extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n    \n    this.loading = true;\n    this.fields = [];\n    \n    this.loadFields();\n  }\n\n  loadFields() {\n    this.loading = true;\n    \n    app.store.find('profile-fields')\n      .then(fields => {\n        this.fields = fields.sort((a, b) => a.sortOrder() - b.sortOrder());\n        this.loading = false;\n        m.redraw();\n      })\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  view() {\n    if (this.loading) {\n      return (\n        <div className=\"ProfileFieldsPage\">\n          <LoadingIndicator />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"ProfileFieldsPage\">\n        <div className=\"ProfileFieldsPage-header\">\n          <div className=\"container\">\n            <h2>プロフィールフィールド設定</h2>\n            <Button\n              className=\"Button Button--primary\"\n              onclick={() => this.showModal()}\n            >\n              新しいフィールドを追加\n            </Button>\n          </div>\n        </div>\n        \n        <div className=\"ProfileFieldsPage-content\">\n          <div className=\"container\">\n            {this.fields.length === 0 ? (\n              <div className=\"ProfileFieldsPage-empty\">\n                <p>プロフィールフィールドが設定されていません。</p>\n              </div>\n            ) : (\n              <div className=\"ProfileFieldsList\">\n                {this.fields.map(field => this.fieldItem(field))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  fieldItem(field) {\n    return (\n      <div key={field.id()} className=\"ProfileFieldItem\">\n        <div className=\"ProfileFieldItem-info\">\n          <div className=\"ProfileFieldItem-label\">{field.label()}</div>\n          <div className=\"ProfileFieldItem-details\">\n            <span className=\"ProfileFieldItem-name\">({field.name()})</span>\n            <span className=\"ProfileFieldItem-type\">{field.type()}</span>\n            {field.required() && <span className=\"ProfileFieldItem-required\">必須</span>}\n          </div>\n        </div>\n        \n        <div className=\"ProfileFieldItem-controls\">\n          <Button\n            className=\"Button Button--link\"\n            onclick={() => this.showModal(field)}\n          >\n            編集\n          </Button>\n          <Button\n            className=\"Button Button--link\"\n            onclick={() => this.deleteField(field)}\n          >\n            削除\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  showModal(field = null) {\n    app.modal.show(ProfileFieldModal, {\n      field: field,\n      onsubmit: () => this.loadFields()\n    });\n  }\n\n  deleteField(field) {\n    if (confirm(`フィールド「${field.label()}」を削除してもよろしいですか？`)) {\n      field.delete()\n        .then(() => this.loadFields())\n        .catch(error => {\n          console.error('Delete error:', error);\n        });\n    }\n  }\n}","import app from 'flarum/admin/app';\nimport UserProfile from '../common/models/UserProfile';\nimport ProfileField from '../common/models/ProfileField';\nimport ProfileFieldsPage from './components/ProfileFieldsPage';\n\napp.initializers.add('flarum-user-profile', () => {\n  app.store.models['user-profiles'] = UserProfile;\n  app.store.models['profile-fields'] = ProfileField;\n  \n  // Debug logging\n  console.log('User Profile Admin extension loaded');\n  \n  // Register the page with proper configuration\n  app.extensionData\n    .for('junya/flarum-user-profile')\n    .registerPage(ProfileFieldsPage);\n    \n  // Verify registration\n  console.log('Extension page registered for junya/flarum-user-profile');\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","UserProfile","_Model","_this","_len","arguments","length","args","Array","_key","apply","concat","userId","Model","introduction","childcareSituation","careSituation","facebookUrl","xUrl","instagramUrl","isVisible","createdAt","updatedAt","user","ProfileField","name","label","type","required","sortOrder","isActive","ProfileFieldModal","_Modal","_proto","oninit","vnode","field","this","attrs","Stream","loading","className","title","content","m","value","oninput","target","placeholder","disabled","onchange","parseInt","min","Switch","state","Button","onclick","hide","onsubmit","_this2","preventDefault","redraw","data","save","app","store","createRecord","then","alert","Modal","ProfileFieldsPage","_Page","fields","loadFields","find","sort","b","view","LoadingIndicator","showModal","map","fieldItem","_this3","id","deleteField","_this4","modal","show","_this5","confirm","error","console","Page","add","models","log","registerPage"],"sourceRoot":""}