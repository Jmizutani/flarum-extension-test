{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://user-profile/webpack/bootstrap","webpack://user-profile/webpack/runtime/compat get default export","webpack://user-profile/webpack/runtime/define property getters","webpack://user-profile/webpack/runtime/hasOwnProperty shorthand","webpack://user-profile/external root \"flarum.core.compat['admin/app']\"","webpack://user-profile/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://user-profile/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://user-profile/external root \"flarum.core.compat['common/Model']\"","webpack://user-profile/./js/src/common/models/UserProfile.js","webpack://user-profile/./js/src/common/models/ProfileField.js","webpack://user-profile/./js/src/common/models/SocialLink.js","webpack://user-profile/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://user-profile/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://user-profile/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://user-profile/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://user-profile/external root \"flarum.core.compat['common/Component']\"","webpack://user-profile/external root \"flarum.core.compat['common/components/Button']\"","webpack://user-profile/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://user-profile/external root \"flarum.core.compat['common/components/Modal']\"","webpack://user-profile/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://user-profile/./js/src/admin/components/ProfileFieldModal.js","webpack://user-profile/./js/src/admin/components/ProfileFieldsSection.js","webpack://user-profile/./js/src/admin/components/SocialLinkModal.js","webpack://user-profile/./js/src/admin/components/SocialLinksSection.js","webpack://user-profile/./js/src/admin/components/UserProfileSettingsPage.js","webpack://user-profile/./js/src/admin/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","import Model from 'flarum/common/Model';\n\nexport default class UserProfile extends Model {\n  userId = Model.attribute('userId');\n  facebookUrl = Model.attribute('facebookUrl');\n  xUrl = Model.attribute('xUrl');\n  instagramUrl = Model.attribute('instagramUrl');\n  isVisible = Model.attribute('isVisible');\n  customFields = Model.attribute('customFields');\n  createdAt = Model.attribute('createdAt', Model.transformDate);\n  updatedAt = Model.attribute('updatedAt', Model.transformDate);\n  \n  user = Model.hasOne('user');\n}","import Model from 'flarum/common/Model';\n\nexport default class ProfileField extends Model {\n  name = Model.attribute('name');\n  label = Model.attribute('label');\n  type = Model.attribute('type');\n  placeholder = Model.attribute('placeholder');\n  required = Model.attribute('required');\n  sortOrder = Model.attribute('sortOrder');\n  isActive = Model.attribute('isActive');\n  createdAt = Model.attribute('createdAt', Model.transformDate);\n  updatedAt = Model.attribute('updatedAt', Model.transformDate);\n}","import Model from 'flarum/common/Model';\n\nexport default class SocialLink extends Model {}\n\nObject.assign(SocialLink.prototype, {\n  name: Model.attribute('name'),\n  label: Model.attribute('label'),\n  iconUrl: Model.attribute('iconUrl'),\n  placeholder: Model.attribute('placeholder'),\n  sortOrder: Model.attribute('sortOrder'),\n  isActive: Model.attribute('isActive'),\n  createdAt: Model.attribute('createdAt'),\n  updatedAt: Model.attribute('updatedAt')\n});","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","import Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default class ProfileFieldModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n    \n    const field = this.attrs.field;\n    \n    this.name = Stream(field ? field.name() : '');\n    this.label = Stream(field ? field.label() : '');\n    this.type = Stream(field ? field.type() : 'text');\n    this.placeholder = Stream(field ? field.placeholder() : '');\n    this.required = Stream(field ? field.required() : false);\n    this.sortOrder = Stream(field ? field.sortOrder() : 0);\n    this.isActive = Stream(field ? field.isActive() : true);\n    this.loading = false;\n    this.errors = {};\n  }\n\n  className() {\n    return 'ProfileFieldModal Modal--medium';\n  }\n\n  title() {\n    return this.attrs.field ? 'フィールドを編集' : '新しいフィールドを追加';\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">\n          <div className=\"Form-group\">\n            <label>フィールド名 (内部名) <span className=\"required\">*</span></label>\n            <input\n              className={`FormControl ${this.errors.name ? 'FormControl--error' : ''}`}\n              type=\"text\"\n              value={this.name()}\n              oninput={(e) => this.name(e.target.value)}\n              placeholder=\"例: introduction\"\n              disabled={!!this.attrs.field}\n              required\n            />\n            {this.errors.name && (\n              <div className=\"Form-error\">\n                {this.errors.name}\n              </div>\n            )}\n            {this.attrs.field && (\n              <p className=\"helpText\">既存フィールドの内部名は変更できません。</p>\n            )}\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>表示ラベル <span className=\"required\">*</span></label>\n            <input\n              className={`FormControl ${this.errors.label ? 'FormControl--error' : ''}`}\n              type=\"text\"\n              value={this.label()}\n              oninput={(e) => this.label(e.target.value)}\n              placeholder=\"例: 自己紹介\"\n              required\n            />\n            {this.errors.label && (\n              <div className=\"Form-error\">\n                {this.errors.label}\n              </div>\n            )}\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>フィールドタイプ</label>\n            <select\n              className=\"FormControl\"\n              value={this.type()}\n              onchange={(e) => this.type(e.target.value)}\n            >\n              <option value=\"text\">テキスト（1行）</option>\n              <option value=\"textarea\">テキストエリア（複数行）</option>\n            </select>\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>プレースホルダー</label>\n            <input\n              className=\"FormControl\"\n              type=\"text\"\n              value={this.placeholder()}\n              oninput={(e) => this.placeholder(e.target.value)}\n              placeholder=\"ユーザーの入力欄に表示される例文\"\n            />\n            <div className=\"helpText\">\n              ユーザーがフィールドを入力する際のヒントとして表示されます。\n            </div>\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>並び順</label>\n            <input\n              className=\"FormControl\"\n              type=\"number\"\n              value={this.sortOrder()}\n              oninput={(e) => this.sortOrder(parseInt(e.target.value) || 0)}\n              min=\"0\"\n            />\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>必須フィールド</label>\n            <div style=\"display: flex; align-items: center; margin-top: 5px;\">\n              <div \n                className={`switch ${this.required() ? 'switch--on' : 'switch--off'}`}\n                onclick={() => this.required(!this.required())}\n                style={`position: relative; width: 50px; height: 24px; background: ${this.required() ? '#4CAF50' : '#ccc'}; border-radius: 12px; cursor: pointer; transition: all 0.2s ease;`}\n              >\n                <div \n                  className=\"switch-thumb\"\n                  style={`position: absolute; top: 2px; left: ${this.required() ? '26px' : '2px'}; width: 20px; height: 20px; background: white; border-radius: 50%; transition: all 0.2s ease; box-shadow: 0 1px 3px rgba(0,0,0,0.3);`}\n                ></div>\n              </div>\n              <span style=\"margin-left: 10px; color: #666;\">\n                {this.required() ? '必須' : '任意'}\n              </span>\n            </div>\n          </div>\n          \n          <div className=\"Form-group\">\n            <label>有効状態</label>\n            <div style=\"display: flex; align-items: center; margin-top: 5px;\">\n              <div \n                className={`switch ${this.isActive() ? 'switch--on' : 'switch--off'}`}\n                onclick={() => this.isActive(!this.isActive())}\n                style={`position: relative; width: 50px; height: 24px; background: ${this.isActive() ? '#4CAF50' : '#ccc'}; border-radius: 12px; cursor: pointer; transition: all 0.2s ease;`}\n              >\n                <div \n                  className=\"switch-thumb\"\n                  style={`position: absolute; top: 2px; left: ${this.isActive() ? '26px' : '2px'}; width: 20px; height: 20px; background: white; border-radius: 50%; transition: all 0.2s ease; box-shadow: 0 1px 3px rgba(0,0,0,0.3);`}\n                ></div>\n              </div>\n              <span style=\"margin-left: 10px; color: #666;\">\n                {this.isActive() ? '有効' : '無効'}\n              </span>\n            </div>\n          </div>\n          \n          <div className=\"Form-group\">\n            <Button\n              className=\"Button Button--primary\"\n              type=\"submit\"\n              loading={this.loading}\n            >\n              保存\n            </Button>\n            <Button\n              className=\"Button Button--default\"\n              onclick={this.hide.bind(this)}\n            >\n              キャンセル\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n    \n    // バリデーション\n    this.errors = {};\n    \n    if (!this.name() || this.name().trim() === '') {\n      this.errors.name = 'フィールド名は必須です。';\n    }\n    \n    if (!this.label() || this.label().trim() === '') {\n      this.errors.label = '表示ラベルは必須です。';\n    }\n    \n    // エラーがある場合は送信を停止\n    if (Object.keys(this.errors).length > 0) {\n      m.redraw();\n      return;\n    }\n    \n    this.loading = true;\n    m.redraw();\n    \n    const data = {\n      name: this.name(),\n      label: this.label(),\n      type: this.type(),\n      placeholder: this.placeholder(),\n      required: this.required(),\n      sortOrder: this.sortOrder(),\n      isActive: this.isActive()\n    };\n    \n    let request;\n    \n    if (this.attrs.field) {\n      // 既存フィールドの更新 - 直接APIコールを使用\n      const requestConfig = {\n        url: app.forum.attribute('apiUrl') + '/profile-fields/' + this.attrs.field.id(),\n        method: 'PATCH',\n        body: {\n          data: {\n            type: 'profile-fields',\n            id: this.attrs.field.id(),\n            attributes: data\n          }\n        }\n      };\n      \n      console.log('ProfileField update request:', requestConfig);\n      \n      request = app.request(requestConfig).then(response => {\n        console.log('ProfileField update response:', response);\n        app.store.pushPayload(response);\n        return app.store.getById('profile-fields', this.attrs.field.id());\n      }).catch(error => {\n        console.error('ProfileField update error:', error);\n        throw error;\n      });\n    } else {\n      // 新規フィールドの作成\n      request = app.store.createRecord('profile-fields').save(data);\n    }\n    \n    request\n      .then(() => {\n        this.hide();\n        if (this.attrs.onsubmit) {\n          this.attrs.onsubmit();\n        }\n      })\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n}","import Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport ProfileFieldModal from './ProfileFieldModal';\n\nexport default class ProfileFieldsSection extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    \n    this.loading = true;\n    this.fields = [];\n    \n    this.loadFields();\n  }\n\n  loadFields() {\n    this.loading = true;\n    \n    app.store.find('profile-fields')\n      .then(fields => {\n        this.fields = fields.sort((a, b) => a.sortOrder() - b.sortOrder());\n        this.loading = false;\n        m.redraw();\n      })\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  view() {\n    if (this.loading) {\n      return (\n        <div className=\"Form-group\">\n          <LoadingIndicator />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"Form-group\">\n        <label>プロフィールフィールド管理</label>\n        <div className=\"helpText\" style=\"margin-bottom: 15px;\">\n          カスタムプロフィールフィールドを作成・管理できます。\n        </div>\n        \n        <div style=\"margin-bottom: 15px;\">\n          <Button\n            className=\"Button Button--primary\"\n            onclick={() => this.showModal()}\n          >\n            新しいフィールドを追加\n          </Button>\n        </div>\n        \n        {this.fields.length === 0 ? (\n          <div className=\"helpText\">\n            プロフィールフィールドが設定されていません。\n          </div>\n        ) : (\n          <div>\n            {this.fields.map(field => this.fieldItem(field))}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  fieldItem(field) {\n    return (\n      <div \n        key={field.id()} \n        className=\"ExtensionListItem\"\n        style=\"display: flex; justify-content: space-between; align-items: center; padding: 10px; margin-bottom: 5px; border: 1px solid #ddd; border-radius: 4px;\"\n      >\n        <div>\n          <div style=\"font-weight: bold; margin-bottom: 5px;\">\n            {field.label()}\n            {field.required() && <span style=\"color: red; margin-left: 5px;\">*</span>}\n            {!field.isActive() && <span style=\"color: #888; margin-left: 5px;\">（無効）</span>}\n          </div>\n          <div style=\"font-size: 12px; color: #666;\">\n            <span>名前: {field.name()}</span>\n            <span style=\"margin-left: 15px;\">タイプ: {field.type()}</span>\n          </div>\n        </div>\n        \n        <div>\n          <Button\n            className=\"Button Button--link\"\n            onclick={() => this.showModal(field)}\n            style=\"margin-right: 10px;\"\n          >\n            編集\n          </Button>\n          <Button\n            className=\"Button Button--link\"\n            onclick={() => this.deleteField(field)}\n          >\n            削除\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  showModal(field = null) {\n    app.modal.show(ProfileFieldModal, {\n      field: field,\n      onsubmit: () => this.loadFields()\n    });\n  }\n\n  deleteField(field) {\n    if (confirm(`フィールド「${field.label()}」を削除してもよろしいですか？`)) {\n      app.request({\n        url: app.forum.attribute('apiUrl') + '/profile-fields/' + field.id() + '/delete',\n        method: 'POST'\n      })\n        .then(() => this.loadFields())\n        .catch(error => {\n          console.error('Delete error:', error);\n        });\n    }\n  }\n}","import Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default class SocialLinkModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.socialLink = this.attrs.socialLink;\n    \n    this.name = Stream(this.socialLink?.name() || '');\n    this.label = Stream(this.socialLink?.label() || '');\n    this.iconUrl = Stream(this.socialLink?.iconUrl() || '');\n    this.placeholder = Stream(this.socialLink?.placeholder() || '');\n    this.sortOrder = Stream(this.socialLink?.sortOrder() || 0);\n    this.isActive = Stream(this.socialLink?.isActive() ?? true);\n    \n    this.errors = {};\n  }\n\n  className() {\n    return 'SocialLinkModal Modal--medium';\n  }\n\n  title() {\n    return this.socialLink ? 'ソーシャルリンクを編集' : '新しいソーシャルリンクを追加';\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">\n          <div className=\"Form-group\">\n            <label>名前 (内部用) <span className=\"required\">*</span></label>\n            <input\n              className={`FormControl ${this.errors.name ? 'FormControl--error' : ''}`}\n              type=\"text\"\n              placeholder=\"facebook, x, instagram など\"\n              bidi={this.name}\n              required\n            />\n            {this.errors.name && (\n              <div className=\"Form-error\">\n                {this.errors.name}\n              </div>\n            )}\n            <div className=\"helpText\">\n              システム内部で使用される識別子です。英数字とアンダースコアのみ使用可能。\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            <label>表示名 <span className=\"required\">*</span></label>\n            <input\n              className={`FormControl ${this.errors.label ? 'FormControl--error' : ''}`}\n              type=\"text\"\n              placeholder=\"Facebook, X (Twitter), Instagram など\"\n              bidi={this.label}\n              required\n            />\n            {this.errors.label && (\n              <div className=\"Form-error\">\n                {this.errors.label}\n              </div>\n            )}\n          </div>\n\n          <div className=\"Form-group\">\n            <label>アイコンURL <span className=\"required\">*</span></label>\n            <input\n              className={`FormControl ${this.errors.iconUrl ? 'FormControl--error' : ''}`}\n              type=\"url\"\n              placeholder=\"https://example.com/icon.svg\"\n              bidi={this.iconUrl}\n              required\n            />\n            {this.errors.iconUrl && (\n              <div className=\"Form-error\">\n                {this.errors.iconUrl}\n              </div>\n            )}\n            <div className=\"helpText\">\n              アイコンのURLを入力してください。PNG、SVG、JPGなどの画像形式に対応しています。\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            <label>プレースホルダー</label>\n            <input\n              className=\"FormControl\"\n              type=\"text\"\n              placeholder=\"https://facebook.com/username\"\n              bidi={this.placeholder}\n            />\n            <div className=\"helpText\">\n              ユーザーの入力欄に表示されるプレースホルダー（入力例）を設定します。\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            <label>表示順序</label>\n            <input\n              className=\"FormControl\"\n              type=\"number\"\n              min=\"0\"\n              bidi={this.sortOrder}\n            />\n          </div>\n\n          <div className=\"Form-group\">\n            <label>有効状態</label>\n            <div style=\"display: flex; align-items: center; margin-top: 5px;\">\n              <div \n                className={`switch ${this.isActive() ? 'switch--on' : 'switch--off'}`}\n                onclick={() => this.isActive(!this.isActive())}\n                style={`position: relative; width: 50px; height: 24px; background: ${this.isActive() ? '#4CAF50' : '#ccc'}; border-radius: 12px; cursor: pointer; transition: all 0.2s ease;`}\n              >\n                <div \n                  className=\"switch-thumb\"\n                  style={`position: absolute; top: 2px; left: ${this.isActive() ? '26px' : '2px'}; width: 20px; height: 20px; background: white; border-radius: 50%; transition: all 0.2s ease; box-shadow: 0 1px 3px rgba(0,0,0,0.3);`}\n                ></div>\n              </div>\n              <span style=\"margin-left: 10px; color: #666;\">\n                {this.isActive() ? '有効' : '無効'}\n              </span>\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            {Button.component(\n              {\n                type: 'submit',\n                className: 'Button Button--primary Button--block',\n                loading: this.loading,\n              },\n              this.socialLink ? '更新' : '作成'\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    // バリデーション\n    this.errors = {};\n    \n    if (!this.name() || this.name().trim() === '') {\n      this.errors.name = '名前は必須です。';\n    }\n    \n    if (!this.label() || this.label().trim() === '') {\n      this.errors.label = '表示名は必須です。';\n    }\n    \n    if (!this.iconUrl() || this.iconUrl().trim() === '') {\n      this.errors.iconUrl = 'アイコンURLは必須です。';\n    } else {\n      // URL形式のチェック\n      try {\n        new URL(this.iconUrl());\n      } catch {\n        this.errors.iconUrl = '有効なURLを入力してください。';\n      }\n    }\n    \n    // エラーがある場合は送信を停止\n    if (Object.keys(this.errors).length > 0) {\n      m.redraw();\n      return;\n    }\n\n    this.loading = true;\n\n    const data = {\n      name: this.name(),\n      label: this.label(),\n      iconUrl: this.iconUrl(),\n      placeholder: this.placeholder(),\n      sortOrder: parseInt(this.sortOrder()) || 0,\n      isActive: this.isActive()\n    };\n\n    let promise;\n    \n    if (this.socialLink) {\n      // 既存ソーシャルリンクの更新 - 直接APIコールを使用\n      promise = app.request({\n        url: app.forum.attribute('apiUrl') + '/social-links/' + this.socialLink.id(),\n        method: 'PATCH',\n        body: {\n          data: {\n            type: 'social-links',\n            id: this.socialLink.id(),\n            attributes: data\n          }\n        }\n      }).then(response => {\n        app.store.pushPayload(response);\n        return app.store.getById('social-links', this.socialLink.id());\n      });\n    } else {\n      // 新規ソーシャルリンクの作成\n      promise = app.store.createRecord('social-links').save(data);\n    }\n\n    promise\n      .then(() => {\n        this.hide();\n        if (this.attrs.onsubmit) {\n          this.attrs.onsubmit();\n        }\n      })\n      .catch(error => {\n        console.error('Social link save error:', error);\n        \n        // サーバーサイドエラーを表示\n        if (error.response && error.response.errors) {\n          error.response.errors.forEach(err => {\n            if (err.source && err.source.pointer === '/data/attributes/icon_url') {\n              this.errors.iconUrl = err.detail || 'アイコンURLでエラーが発生しました。';\n            }\n          });\n        }\n      })\n      .then(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n}","import Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport SocialLinkModal from './SocialLinkModal';\n\nexport default class SocialLinksSection extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    \n    this.loading = true;\n    this.socialLinks = [];\n    \n    this.loadSocialLinks();\n  }\n\n  loadSocialLinks() {\n    this.loading = true;\n    \n    app.store.find('social-links')\n      .then(socialLinks => {\n        this.socialLinks = socialLinks.sort((a, b) => a.sortOrder() - b.sortOrder());\n        this.loading = false;\n        m.redraw();\n      })\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  view() {\n    if (this.loading) {\n      return (\n        <div className=\"Form-group\">\n          <LoadingIndicator />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"Form-group\">\n        <label>ソーシャルリンク設定</label>\n        <div className=\"helpText\" style=\"margin-bottom: 15px;\">\n          ユーザーが入力可能なソーシャルリンクを管理できます。\n        </div>\n        \n        <div style=\"margin-bottom: 15px;\">\n          <Button\n            className=\"Button Button--primary\"\n            onclick={() => this.showModal()}\n          >\n            新しいソーシャルリンクを追加\n          </Button>\n        </div>\n        \n        {this.socialLinks.length === 0 ? (\n          <div className=\"helpText\">\n            ソーシャルリンクが設定されていません。\n          </div>\n        ) : (\n          <div>\n            {this.socialLinks.map(socialLink => this.socialLinkItem(socialLink))}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  socialLinkItem(socialLink) {\n    return (\n      <div \n        key={socialLink.id()} \n        className=\"ExtensionListItem\"\n        style=\"display: flex; justify-content: space-between; align-items: center; padding: 10px; margin-bottom: 5px; border: 1px solid #ddd; border-radius: 4px;\"\n      >\n        <div style=\"display: flex; align-items: center;\">\n          {socialLink.iconUrl() && (\n            <img \n              src={socialLink.iconUrl()} \n              alt={socialLink.label()} \n              style=\"width: 20px; height: 20px; margin-right: 10px;\"\n            />\n          )}\n          <div>\n            <div style=\"font-weight: bold; margin-bottom: 5px;\">\n              {socialLink.label()}\n              {!socialLink.isActive() && <span style=\"color: #888; margin-left: 5px;\">(無効)</span>}\n            </div>\n            <div style=\"font-size: 12px; color: #666;\">\n              <span>名前: {socialLink.name()}</span>\n              {socialLink.placeholder() && (\n                <span style=\"margin-left: 15px;\">プレースホルダー: {socialLink.placeholder()}</span>\n              )}\n            </div>\n          </div>\n        </div>\n        \n        <div>\n          <Button\n            className=\"Button Button--link\"\n            onclick={() => this.showModal(socialLink)}\n            style=\"margin-right: 10px;\"\n          >\n            編集\n          </Button>\n          <Button\n            className=\"Button Button--link\"\n            onclick={() => this.deleteSocialLink(socialLink)}\n          >\n            削除\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  showModal(socialLink = null) {\n    app.modal.show(SocialLinkModal, {\n      socialLink: socialLink,\n      onsubmit: () => this.loadSocialLinks()\n    });\n  }\n\n  deleteSocialLink(socialLink) {\n    if (confirm(`ソーシャルリンク「${socialLink.label()}」を削除してもよろしいですか？`)) {\n      app.request({\n        url: app.forum.attribute('apiUrl') + '/social-links/' + socialLink.id() + '/delete',\n        method: 'POST'\n      })\n        .then(() => this.loadSocialLinks())\n        .catch(error => {\n          console.error('Delete error:', error);\n        });\n    }\n  }\n}","import Component from 'flarum/common/Component';\nimport ProfileFieldsSection from './ProfileFieldsSection';\nimport SocialLinksSection from './SocialLinksSection';\n\nexport default class UserProfileSettingsPage extends Component {\n  static get route() {\n    return 'profile-fields';\n  }\n\n  view() {\n    return (\n      <div className=\"UserProfileSettingsPage\">\n        <div className=\"container\">\n          <ProfileFieldsSection />\n          <SocialLinksSection />\n        </div>\n      </div>\n    );\n  }\n}","import app from 'flarum/admin/app';\nimport UserProfile from '../common/models/UserProfile';\nimport ProfileField from '../common/models/ProfileField';\nimport SocialLink from '../common/models/SocialLink';\nimport UserProfileSettingsPage from './components/UserProfileSettingsPage';\n\napp.initializers.add('junya-user-profile', () => {\n  app.store.models['user-profiles'] = UserProfile;\n  app.store.models['profile-fields'] = ProfileField;\n  app.store.models['social-links'] = SocialLink;\n  \n  app.extensionData\n    .for('junya-user-profile')\n    .registerSetting(function () {\n      return <UserProfileSettingsPage />;\n    });\n});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","UserProfile","_Model","_this","_len","arguments","length","args","Array","_key","apply","concat","userId","Model","facebookUrl","xUrl","instagramUrl","isVisible","customFields","createdAt","updatedAt","user","ProfileField","name","label","type","placeholder","required","sortOrder","isActive","SocialLink","_typeof","Symbol","iterator","toPropertyKey","i","toPrimitive","r","TypeError","String","_defineProperties","configurable","writable","assign","iconUrl","ProfileFieldModal","_Modal","_proto","oninit","vnode","field","this","attrs","Stream","loading","errors","className","title","content","m","value","oninput","target","disabled","onchange","parseInt","min","style","onclick","Button","hide","onsubmit","_this2","preventDefault","trim","keys","redraw","request","data","requestConfig","url","app","forum","attribute","id","method","body","attributes","console","log","then","response","store","pushPayload","getById","error","createRecord","save","Modal","ProfileFieldsSection","_Component","fields","loadFields","find","sort","b","view","LoadingIndicator","showModal","map","fieldItem","_this3","deleteField","_this4","modal","show","_this5","confirm","Component","SocialLinkModal","_this$socialLink","_this$socialLink2","_this$socialLink3","_this$socialLink4","_this$socialLink5","_this$socialLink$isAc","_this$socialLink6","socialLink","bidi","URL","_unused","forEach","err","source","pointer","detail","SocialLinksSection","socialLinks","loadSocialLinks","socialLinkItem","src","alt","deleteSocialLink","UserProfileSettingsPage","add","models","registerSetting"],"sourceRoot":""}